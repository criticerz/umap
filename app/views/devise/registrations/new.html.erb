<div class="container">

  <div class="row">

    <div class="col-xs-8 col-xs-offset-2">

      <div class="authform">
        <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :role => 'form'}) do |f| %>
          <h3>Sign up</h3>
          
          <%= devise_error_messages! %>

          <%- flash.each do |name, msg| -%>
            <%= content_tag :div, msg, :id => "flash_#{name}", :class => "alert alert-danger" if msg.is_a?(String) %>
          <%- end -%>  
          
          <div class="form-group">
            <%= f.label :email %>
            <%= f.email_field :email, :autofocus => true, class: 'form-control' %>
          </div>
          <div class="form-group">
            <%= f.label :password %>
            <%= f.password_field :password, class: 'form-control' %>
          </div>
          <div class="form-group">
            <%= f.label :password_confirmation %>
            <%= f.password_field :password_confirmation, class: 'form-control' %>
          </div>

          <% if params[:secret] == 'umap123' %>
            <input type="hidden" name="allowed_to_register" value="1" />
          <% end %>

           <%= f.submit 'Sign up', :class => 'button right btn btn-success' %>
        <% end %>
      </div>

    </div>

  </div>

</div>